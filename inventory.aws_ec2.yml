plugin: aws_ec2
regions:
  - us-east-1

filters:
  instance-state-name: running
  tag:Role: ManagedNode

hostname_variable: private-ip-address

compose:
  ansible_host: private_ip_address

keyed_groups:
  - key: tags.OS
    prefix: tag_OS
    separator: _
  
  - key: tags.Role
    prefix: tag_Role
    separator: _
  
  - key: placement.region
    prefix: aws_region
    separator: _